# 071 座位调整

## 题目描述

疫情期间课堂的座位进行了特殊的调整，不能出现两个同学紧挨着，必须隔至少一个空位。

给你一个整数数组`desk`表示当前座位的占座情况，由若干0和1组成，其中0表示没有占位，1表示占位。在不改变原有座位秩序情况下，还能安排坐几个人？

## 输入描述

第一行是个数组表示座位占座情况，由若干0和1组成，其中0表示没有占位，1表示占位

## 输出描述

输出数值表示还能坐几个人

**说明：**

1 <= desk.length <= 2*10^4

## 示例描述

### 示例一

**输入：**
```text
1 0 0 0 1
```

**输出：**
```text
1
```

**说明：**

只有`desk[2]`的位置可以坐一个人。

### 示例二

**输入：**
```text
0 0 0 0 0
```

**输出：**
```text
3
```

## 解题思路

1. 如果座位数小于3，当座位都是空的时候，返回1，否则返回0。
2. 如果座位数的空位小于一半，则返回0。
3. 遍历所有座位：
    - 如果座位有人，则继续遍历。
    - 如果第一个位置和第二个位置是空的，则第一个位置可坐人。
    - 如果最后一个位置和倒数第二个位置是空的，则最后一个位置可坐人。
    - 如果前一个和后一个均为0，则当前位置可坐人。
4. 返回可以坐人的座位数。    

## 解题代码

```python
def solve_method(nums):
    if len(nums) < 3:
        return 0 if sum(nums) > 0 else 1

    if sum(nums) >= len(nums) // 2 + 1:
        return 0
    ans = 0
    n = len(nums)
    for i in range(n):
        if nums[i] == 1:
            continue
        elif i == 0 and nums[i + 1] == 0:
            # 如果第一个位置和第二个位置是空的，则第一个位置可坐人
            ans += 1
            nums[i] = 1
        elif i == n - 1 and nums[i - 1] == 0:
            # 如果最后一个位置和倒数第二个位置是空的，则最后一个位置可坐人
            ans += 1
            nums[i] = 1
        else:
            # 如果前一个和后一个均为0，则当前位置可坐人
            if nums[i - 1] == 0 and nums[i + 1] == 0:
                ans += 1
                nums[i] = 1
    return ans


if __name__ == '__main__':
    assert solve_method([1, 0, 0, 0, 1]) == 1
    assert solve_method([0, 0, 0, 0, 0]) == 3
    assert solve_method([1, 0, 0, 0, 0, 0]) == 2
```

