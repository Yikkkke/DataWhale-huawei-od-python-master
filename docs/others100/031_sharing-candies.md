# 031 分糖果

## 题目描述

小明从糖果盒中随意抓一把糖果，每次小明会取出一半的糖果分给同学们，当糖果不能平均分配时，小明可以从糖果盒中（假设盒中糖果足够）取出一个或放回一个糖果，小明至少需要多少次（取出放回和平均分配均记一次）能将手中糖果分至只剩一颗。

## 输入描述

抓取糖果数（小于1000000），例如15。

## 输出描述

最少分至一颗糖果的次数，例如5。

## 示例描述

### 示例一

**输入：**

```text
15
```

**输出：**

```text
5
```

**说明：**  

- 第1次，从糖果盒取出1颗糖果，手上糖果剩余：15+1=16。
- 第2次，平均分配，手上糖果剩余：16/2=8。
- 第3次，平均分配，手上糖果剩余：8/2=4。
- 第4次，平均分配，手上糖果剩余：4/2=2。
- 第5次，平均分类，手上糖果剩余：2/2=1。

## 解题思路

**基本思路：** 采取递归的方式计算放回或取出的次数。

1. 使用递归方式：
    - 确定递归函数，返回值以及参数：返回值是次数，参数是剩余糖果个数。
    - 终止条件：当糖果为2时，返回1。
    - 确定单层递归的逻辑：
        - 当糖果数为偶数时，平均分配，累加次数。
        - 当糖果数为奇数时，取出或放回的次数最小值，累加次数。
2. 返回最终的递归结果。

## 解题代码

```Python
def divide_candies(candies_num):
    if candies_num == 2:
        # 当糖果数为2时，返回1
        return 1
    if candies_num % 2 == 0:
        # 当糖果数为偶数时，平均分配 
        return divide_candies(candies_num // 2) + 1
    else:
        # 当糖果数为奇数时，取出或放回的次数最小值
        return min(divide_candies(candies_num + 1) + 1, divide_candies(candies_num - 1) + 1)


def solve_method(n):
    if n > 1000000:
        return False

    return divide_candies(n)


if __name__ == '__main__':
    assert solve_method(15) == 5
```

