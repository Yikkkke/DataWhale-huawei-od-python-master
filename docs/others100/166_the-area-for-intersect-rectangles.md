# 166 矩形相交的面积

## 题目描述

给出3组点坐标`(x, y, w, h)`，-1000 < x, y < 1000，`w`、`h`为正整数。

`(x, y, w, h)`表示平面直角坐标系中的一个矩形：

- `x`、`y`为矩形左上角坐标点，`w`、`h`分别表示向右、向下的坐标点。
- `(x, y, w, h)`表示`x`轴`(x, x+w)`和`y`轴`(y, y-h)`围成的矩形区域。
- `(0, 0, 2, 2)`表示`x`轴`(0, 2)`和`y`轴`(0, -2)`围成的矩形区域。
- `(3, 5, 4, 6)`表示`x`轴`(3, 7)`和`y`轴`(5, -1)`围成的矩形区域。

求3组坐标构成的矩形区域重合部分的面积。

## 输入描述

3行输入分别为3个矩形的位置，分别代表左上角x坐标、左上角y坐标、矩形宽、矩形高。取值范围是-1000 <= x, y < 1000。

## 输出描述

输出3个矩形相交的面积，不相交的输出0。

## 示例描述

### 示例一

**输入：**

```text
1 6 4 4
3 5 3 4
0 3 7 3
```

**输出：**

```text
2
```

**说明：**

给定3个矩形`A`、`B`、`C`：

- `A`：左上角坐标`(1,6)`，宽4，高4。
- `B`：左上角坐标`(3,5)`，宽3，高4。
- `C`：左上角坐标`(0,3)`，宽7，高3。

## 解题思路

1. 将坐标点转换为左上角和右下角坐标点。
2. 遍历三个矩形的每个坐标点，按照如下规则进行查找，然后能找到满足最小的矩形：
   - 找左上x里的较大值，即靠右。
   - 找左上y里的较小值，即靠下。
   - 找右下x里的较小值，即靠左。
   - 找右下y里的较大值，即靠上。
3. 判断得到的4个坐标点：
   - 如果右下x一定大于左上x，左上y一定大于右下y，则得到相交区域的面积。
   - 否则矩形不相交。 
4. 返回结果，即矩形相交的面积。

## 解题代码

```python
def solve_method(areas):
    new_points = []
    # 后面两个坐标转化成正常值（变成右下角坐标点）
    for area in areas:
        x, y, w, h = area
        new_points.append([x, y, x + w, y - h])

    # 初始化一个空的相交区域为原点，记录它的左上角和右下角的坐标值
    inter_area = []

    # 将所有的area，每个坐标通过zip函数分别集合到一起，
    # 比如三个area的左上x，左上y，右下x，右下y
    # 按照如下规则进行查找，然后能找到满足最小的矩形。
    # 找左上x里的较大值（注意坐标系左负右正，上正下负），即靠右，
    # 找左上y里的较小值，即靠下，
    # 找右下x里的较小值，即靠左，
    # 找右下y里的较大值，即靠上，
    # 这四个极值找到后就是重叠区域的左上和右下坐标。
    for ind, coro in enumerate(zip(*new_points)):
        if ind == 0 or ind == 3:
            inter_area.append(max(coro))
        if ind == 1 or ind == 2:
            inter_area.append(min(coro))

    # 右下x一定大于左上x，左上y一定大于右下y，否则不存在相交区域
    # 如果不相交，也会求取一个面积，为他们最近点围成的面积，需要去掉这个不相交的面积，
    # 如果下面两个条件任意一个小于等于0，则表示不相交。
    if (inter_area[2] - inter_area[0]) <= 0 or (inter_area[1] - inter_area[3]) <= 0:
        return 0
    else:
        return (inter_area[2] - inter_area[0]) * (inter_area[1] - inter_area[3])


if __name__ == '__main__':
    areas = [[1, 6, 4, 4],
             [3, 5, 3, 4],
             [0, 3, 7, 3]]
    assert solve_method(areas) == 2  # 相交，面积为2
    areas = [[2, 0, 2, 2],
             [0, 2, 2, 2],
             [4, 2, 2, 2]]
    assert solve_method(areas) == 0  # 不相交，面积为0
    areas = [[1, 7, 2, 2],
             [4, 2, 2, 2],
             [8, 7, 2, 2]]
    assert solve_method(areas) == 0  # 不相交，面积为15
```



