# 089 括号检查

## 题目描述

现有一字符串仅由`(`、`)`、`{`、`}`、`[`、`]`六种括号组成，若字符串满足以下条件之一，则为无效字符串：

1. 任意类型的左右括号数量不相等。
2. 存在未按正确顺序（先左后右）闭合的括号。

输出括号的最大嵌套深度，若字符串无效则输出0，字符串长度的取值范围是0 <= 字符串长度 <= 100000。

## 输入描述

一个只包括`(`、`)`、`{`、`}`、`[`、`]`的字符串。

## 输出描述

一个整数，最大的括号深度。

## 示例描述

### 示例一

**输入：**
```text
[]
```

**输出：**
```text
1
```

**说明：**

有效字符串最大嵌套深度为1。

### 示例二

**输入：**
```text
([]{()})
```

**输出：**
```text
3
```

**说明：**

有效字符串最大嵌套深度为3。

### 示例三

**输入：**
```text
(]
```

**输出：**
```text
0
```

**说明：**

无效字符串，有两种括号左右数量不相等。

### 示例四

**输入：**
```text
([)]
```

**输出：**
```text
0
```

**说明：**

无效字符串，存在未按正确顺序闭合的字符串。

### 示例五

**输入：**
```text
)(
```

**输出：**
```text
0
```

**说明：**

无效字符串，存在未按正确顺序闭合的字符串。

## 解题思路

1. 初始化括号的字典`pares`。
2. 初始化栈，用于存储括号。   
3. 遍历字符串列表：
   - 如果是左括号，则入栈，并计算当前栈的长度，表示括号深度。
   - 如果是右括号，如果栈中有对应的左括号，则弹出栈，否则返回0。
4. 如果栈为空，表示括号都能匹配到，返回最大深度，否则返回0。

## 解题代码

```python
def solve_method(string):
    string = list(string)
    depth = 0
    stack = []

    pares = {
        ")": "(",
        "]": "[",
        "}": "{"
    }

    for char in string:
        if char in ["(", "[", "{"]:
            stack.append(char)
            depth = max(depth, len(stack))
        elif char in [")", "]", "}"]:
            if len(stack) == 0:
                return 0
            if stack[-1] == pares.get(char):
                stack.pop()
            else:
                return 0

    if len(stack) == 0:
        return depth
    else:
        return 0


if __name__ == '__main__':
    assert solve_method("[]") == 1
    assert solve_method("([]{()})") == 3
    assert solve_method("(]") == 0
    assert solve_method("([)]") == 0
    assert solve_method(")(") == 0
```